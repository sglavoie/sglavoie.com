<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://www.sglavoie.com/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="https://www.sglavoie.com/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://www.sglavoie.com/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Sébastien Lavoie">
  <meta name="description" content="Posts and writings by Sébastien Lavoie">

  <link href="https://www.sglavoie.com/feeds/sglavoie.rss.xml" type="application/rss+xml" rel="alternate" title="sglavoie.com RSS" />

<meta name="keywords" content="productivity, vim">

  <title>
    sglavoie.com
&ndash; Tag Navigation in&nbsp;Vim  </title>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-150998392-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="https://www.sglavoie.com">
        <img src="https://www.sglavoie.com/theme/images/logo.png" alt="logo">
      </a>
      <h2><a href="https://www.sglavoie.com">sglavoie.com</a></h2>
      <p></p>
      <ul>
        <li><a href="https://www.sglavoie.com/category/automation.html">automation</a></li>
        <li><a href="https://www.sglavoie.com/category/tips-and-tricks.html">tips-and-tricks</a></li>
        <li><a href="https://www.sglavoie.com/category/tools.html">tools</a></li>
        <li><a href="https://www.sglavoie.com/category/workflow.html">workflow</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="https://www.sglavoie.com">Index</a> &brvbar; <a href="https://www.sglavoie.com/archives.html">Archives</a>
&brvbar; <a href="https://www.sglavoie.com/tags.html">Tags</a>
&brvbar; <a href="https://www.sglavoie.com/learning-progress-2019.html">Learning Progress</a>
      &brvbar; <a href="https://www.sglavoie.com/feeds/sglavoie.rss.xml">RSS</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://www.sglavoie.com/posts/2019/04/19/tag-navigation-in-vim/">Tag Navigation in&nbsp;Vim</a></h1>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 3 minutes</p>
  </div>
  <div class="article_text">
    <p>Let&#8217;s jump right&nbsp;in.</p>
<h2>Navigate to definitions and&nbsp;tags</h2>
<h3>Navigate inside the current&nbsp;buffer</h3>
<p>There is a command <code>gd</code> that stands for <strong>Goto local Declaration</strong>. It is quite useful when looking for a variable inside the current buffer as it allows to jump to where it is declared when the variable is under the cursor. Using that command, you can also find where a function is declared and it will find the first occurrence in the current function. If looking for the first occurrence in the buffer, <code>gD</code>  (<strong>Goto global Declaration</strong>) will do the trick. You can jump back and forth to where you were with the commands <code>Ctrl + O</code> (older position) and <code>Ctrl + I</code> (newer position) in normal&nbsp;mode.</p>
<h3>Navigate inside all buffers within the current&nbsp;project</h3>
<p>To be able to jump between buffers and go back to the origin of a declaration when it is imported in the current module, generating tags comes in very handy as it allows you to use the command <code>Ctrl + ]</code> to jump to a tag, just like when using the help pages in <strong>Vim</strong>.</p>
<p>To make this work, we can conveniently use <code>ctags</code>. First, we need to make sure it&#8217;s installed on the system as&nbsp;follow:</p>
<hr>
<h4>Debian/Ubuntu</h4>
<div class="highlight"><pre><span></span>sudo apt-get install ctags
</pre></div>


<p>or</p>
<div class="highlight"><pre><span></span>sudo apt-get install exuberant-ctags
</pre></div>


<h4><span class="caps">OS</span>&nbsp;X</h4>
<div class="highlight"><pre><span></span>brew install ctags
</pre></div>


<hr>
<p>You can put the following command in your configuration file to be able to generate the necessary tags inside <strong>Vim</strong> by typing <code>MakeTags</code> in command&nbsp;mode:</p>
<div class="highlight"><pre><span></span>command<span class="p">!</span> MakeTags <span class="p">!</span>ctags <span class="p">-</span>R .
</pre></div>


<p>This will make it easy to remember how to do it. After that, open an existing project in its root directory and use this newly created <code>MakeTags</code> command to generate the tags. This will create a file named <code>tags</code> in the current working directory*. Now, you will be able to open any file inside your project and jump to all the available declarations with <code>Ctrl + ]</code>.</p>
<p>* <sub>Note: This will create tags recursively from the <em>current working directory</em>, <strong>not</strong> from the path matching the current buffer.</sub></p>
<p>If you go to a tag that leads you a few declarations away in one file or another, you can come back with <code>Ctrl + T</code>. Here is a clear explanation from Vim&#8217;s&nbsp;help:</p>
<div class="highlight"><pre><span></span><span class="nv">The</span> <span class="nv">most</span> <span class="nv">obvious</span> <span class="nv">way</span> <span class="nv">to</span> <span class="nv">use</span> <span class="nv">this</span> <span class="nv">is</span> <span class="k">while</span> <span class="nv">browsing</span> <span class="nv">through</span> <span class="nv">the</span> <span class="k">call</span> <span class="nl">graph</span> <span class="nv">of</span>
<span class="nv">a</span> <span class="nv">program</span>.  <span class="nv">Consider</span> <span class="nv">the</span> <span class="nv">following</span> <span class="k">call</span> <span class="nl">graph</span>:

    <span class="nv">main</span>  <span class="o">---&gt;</span>  <span class="nv">FuncA</span>  <span class="o">---&gt;</span>  <span class="nv">FuncC</span>
          <span class="o">---&gt;</span>  <span class="nv">FuncB</span>

<span class="ss">(</span><span class="nv">Explanation</span>: <span class="nv">main</span> <span class="nv">calls</span> <span class="nv">FuncA</span> <span class="nv">and</span> <span class="nv">FuncB</span><span class="c1">; FuncA calls FuncC).</span>
<span class="nv">You</span> <span class="nv">can</span> <span class="nv">get</span> <span class="nv">from</span> <span class="nv">main</span> <span class="nv">to</span> <span class="nv">FuncA</span> <span class="nv">by</span> <span class="nv">using</span> <span class="nv">CTRL</span><span class="o">-</span>] <span class="nv">on</span> <span class="nv">the</span> <span class="k">call</span> <span class="nl">to</span> <span class="nv">FuncA</span>.  <span class="k">Then</span>
<span class="nv">you</span> <span class="nv">can</span> <span class="nv">CTRL</span><span class="o">-</span>] <span class="nv">to</span> <span class="nv">get</span> <span class="nv">to</span> <span class="nv">FuncC</span>.  <span class="k">If</span> <span class="nv">you</span> <span class="nv">now</span> <span class="nv">want</span> <span class="nv">to</span> <span class="nv">go</span> <span class="nv">back</span> <span class="nv">to</span> <span class="nv">main</span> <span class="nv">you</span> <span class="nv">can</span>
<span class="nv">use</span> <span class="nv">CTRL</span><span class="o">-</span><span class="nv">T</span> <span class="nv">twice</span>.  <span class="k">Then</span> <span class="nv">you</span> <span class="nv">can</span> <span class="nv">CTRL</span><span class="o">-</span>] <span class="nv">to</span> <span class="nv">FuncB</span>.
</pre></div>


<p>To keep those tags useful when you update your project, you can map a sequence that saves the buffer you are working on and then regenerates the tags automatically. Here is an&nbsp;example:</p>
<div class="highlight"><pre><span></span><span class="nb">nnoremap</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>W :<span class="k">w</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>:MakeTags<span class="p">&lt;</span>CR<span class="p">&gt;</span>:echo <span class="s1">&#39;ctags have been updated.&#39;</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
</pre></div>


<p>And on this note, we&#8217;re ready to conquer the world <i class="fas fa-smile-wink"></i>.</p>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 19 April 2019</p>
    <p>Category: <a href="https://www.sglavoie.com/category/tips-and-tricks.html">tips-and-tricks</a>
 &ndash; Tags:
      <a href="https://www.sglavoie.com/tag/productivity.html">productivity</a>,      <a href="https://www.sglavoie.com/tag/vim.html">vim</a>    </p>
  </div>

  <div id="article_comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_identifier = "posts/2019/04/19/tag-navigation-in-vim/";
        (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = '//sglavoie.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
    </script>
  </div>

</article>


    <div id="ending_message">
       <h3>Subscribe to the Newsletter</h3>
       <form style="border:1px solid #ccc;padding:3px;text-align:center;" action="https://tinyletter.com/sglavoie" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/sglavoie', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true"><p><label for="tlemail">Enter your email address</label></p><p><input type="text" style="width:140px" name="email" id="tlemail" /></p><input type="hidden" value="1" name="embed"/><input type="submit" value="Subscribe" /><p><a href="https://tinyletter.com" target="_blank">powered by TinyLetter</a></p></form>
      <p>&copy; Sébastien Lavoie. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>.</p>
    </div>
  </main>
</body>
</html>